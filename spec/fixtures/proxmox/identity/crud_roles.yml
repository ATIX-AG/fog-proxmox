---
http_interactions:
- request:
    method: post
    uri: https://172.26.49.146:8006/api2/json/access/roles
    body:
      encoding: US-ASCII
      string: roleid=PVETestAuditor
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Csrfpreventiontoken:
      - 5AD9F5B4:DvHN9FXgp1Gv8Tsf5tsJl8YySFY
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - close, Keep-Alive
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '13'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":null}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
- request:
    method: get
    uri: https://172.26.49.146:8006/api2/json/access/roles
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - Keep-Alive
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '2148'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":[{"roleid":"PVEVMUser","special":"1","privs":"VM.Audit,VM.Backup,VM.Config.CDROM,VM.Console,VM.PowerMgmt"},{"special":"1","privs":"Pool.Allocate","roleid":"PVEPoolAdmin"},{"roleid":"PVEVMAdmin","privs":"VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","special":"1"},{"privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit","special":"1","roleid":"PVEDatastoreAdmin"},{"privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit,Group.Allocate,Permissions.Modify,Pool.Allocate,Realm.AllocateUser,Sys.Audit,Sys.Console,Sys.Syslog,User.Modify,VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","special":"1","roleid":"PVEAdmin"},{"special":"1","privs":"Datastore.Audit,Sys.Audit,VM.Audit","roleid":"PVEAuditor"},{"privs":"Permissions.Modify,Sys.Audit,Sys.Console,Sys.Syslog","special":"1","roleid":"PVESysAdmin"},{"special":"","privs":"","roleid":"PVETestAuditor"},{"special":"1","privs":"Group.Allocate,Realm.AllocateUser,User.Modify","roleid":"PVEUserAdmin"},{"roleid":"PVEDatastoreUser","privs":"Datastore.AllocateSpace,Datastore.Audit","special":"1"},{"special":"1","privs":"","roleid":"NoAccess"},{"roleid":"PVETemplateUser","privs":"VM.Audit,VM.Clone","special":"1"},{"roleid":"Administrator","privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit,Group.Allocate,Permissions.Modify,Pool.Allocate,Realm.Allocate,Realm.AllocateUser,Sys.Audit,Sys.Console,Sys.Modify,Sys.PowerMgmt,Sys.Syslog,User.Modify,VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","special":"1"}]}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
- request:
    method: post
    uri: https://172.26.49.146:8006/api2/json/access/roles
    body:
      encoding: US-ASCII
      string: roleid=PVETestAuditor
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Csrfpreventiontoken:
      - 5AD9F5B4:DvHN9FXgp1Gv8Tsf5tsJl8YySFY
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 500
      message: 'create role failed: error with cfs lock ''file-user_cfg'': role ''PVETestAuditor''
        already exists'
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - close
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '13'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":null}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
- request:
    method: put
    uri: https://172.26.49.146:8006/api2/json/access/roles/PVETestAuditor
    body:
      encoding: US-ASCII
      string: privs=Datastore.Audit+Sys.Audit+VM.Audit
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Csrfpreventiontoken:
      - 5AD9F5B4:DvHN9FXgp1Gv8Tsf5tsJl8YySFY
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - Keep-Alive, Keep-Alive
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '13'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":null}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
- request:
    method: get
    uri: https://172.26.49.146:8006/api2/json/access/roles
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - Keep-Alive
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '2182'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":[{"roleid":"NoAccess","special":"1","privs":""},{"privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit,Group.Allocate,Permissions.Modify,Pool.Allocate,Realm.Allocate,Realm.AllocateUser,Sys.Audit,Sys.Console,Sys.Modify,Sys.PowerMgmt,Sys.Syslog,User.Modify,VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","special":"1","roleid":"Administrator"},{"roleid":"PVETemplateUser","privs":"VM.Audit,VM.Clone","special":"1"},{"special":"1","privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit,Group.Allocate,Permissions.Modify,Pool.Allocate,Realm.AllocateUser,Sys.Audit,Sys.Console,Sys.Syslog,User.Modify,VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","roleid":"PVEAdmin"},{"roleid":"PVEDatastoreAdmin","privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit","special":"1"},{"special":"1","privs":"VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","roleid":"PVEVMAdmin"},{"roleid":"PVEPoolAdmin","special":"1","privs":"Pool.Allocate"},{"privs":"VM.Audit,VM.Backup,VM.Config.CDROM,VM.Console,VM.PowerMgmt","special":"1","roleid":"PVEVMUser"},{"roleid":"PVEDatastoreUser","privs":"Datastore.AllocateSpace,Datastore.Audit","special":"1"},{"special":"1","privs":"Group.Allocate,Realm.AllocateUser,User.Modify","roleid":"PVEUserAdmin"},{"roleid":"PVEAuditor","special":"1","privs":"Datastore.Audit,Sys.Audit,VM.Audit"},{"roleid":"PVESysAdmin","special":"1","privs":"Permissions.Modify,Sys.Audit,Sys.Console,Sys.Syslog"},{"special":"","privs":"Datastore.Audit,Sys.Audit,VM.Audit","roleid":"PVETestAuditor"}]}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
- request:
    method: delete
    uri: https://172.26.49.146:8006/api2/json/access/roles/PVETestAuditor
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Csrfpreventiontoken:
      - 5AD9F5B4:DvHN9FXgp1Gv8Tsf5tsJl8YySFY
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - Keep-Alive, Keep-Alive
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '13'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":null}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
- request:
    method: get
    uri: https://172.26.49.146:8006/api2/json/access/roles
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 200
      message: OK
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - Keep-Alive
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '2096'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":[{"roleid":"PVESysAdmin","privs":"Permissions.Modify,Sys.Audit,Sys.Console,Sys.Syslog","special":"1"},{"special":"1","privs":"Datastore.Audit,Sys.Audit,VM.Audit","roleid":"PVEAuditor"},{"roleid":"PVEDatastoreUser","special":"1","privs":"Datastore.AllocateSpace,Datastore.Audit"},{"privs":"Group.Allocate,Realm.AllocateUser,User.Modify","special":"1","roleid":"PVEUserAdmin"},{"roleid":"PVEVMAdmin","privs":"VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","special":"1"},{"special":"1","privs":"Pool.Allocate","roleid":"PVEPoolAdmin"},{"roleid":"PVEVMUser","privs":"VM.Audit,VM.Backup,VM.Config.CDROM,VM.Console,VM.PowerMgmt","special":"1"},{"roleid":"PVEAdmin","special":"1","privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit,Group.Allocate,Permissions.Modify,Pool.Allocate,Realm.AllocateUser,Sys.Audit,Sys.Console,Sys.Syslog,User.Modify,VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback"},{"special":"1","privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit","roleid":"PVEDatastoreAdmin"},{"privs":"VM.Audit,VM.Clone","special":"1","roleid":"PVETemplateUser"},{"special":"1","privs":"Datastore.Allocate,Datastore.AllocateSpace,Datastore.AllocateTemplate,Datastore.Audit,Group.Allocate,Permissions.Modify,Pool.Allocate,Realm.Allocate,Realm.AllocateUser,Sys.Audit,Sys.Console,Sys.Modify,Sys.PowerMgmt,Sys.Syslog,User.Modify,VM.Allocate,VM.Audit,VM.Backup,VM.Clone,VM.Config.CDROM,VM.Config.CPU,VM.Config.Disk,VM.Config.HWType,VM.Config.Memory,VM.Config.Network,VM.Config.Options,VM.Console,VM.Migrate,VM.Monitor,VM.PowerMgmt,VM.Snapshot,VM.Snapshot.Rollback","roleid":"Administrator"},{"roleid":"NoAccess","special":"1","privs":""}]}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
- request:
    method: get
    uri: https://172.26.49.146:8006/api2/json/access/roles/PVETestAuditor
    body:
      encoding: US-ASCII
      string: ''
    headers:
      User-Agent:
      - fog-core/2.1.0
      Accept:
      - application/json
      Cookie:
      - PVEAuthCookie=PVE:root@pam:5AD9F5B4::SDB4PKDMLvsGZ67yMz7lZaJhP6B6/BNM2mo6eCIl8Ak8Vcp/O8CaK+ac2VFYP+8rviaIJd34RCW8fUFPNp89JSHXBaEooZAEO/Iqa+ClwQM10eP3VRr2LlzsYj8U+SiJwsNhPIJxv+PA9fEf5nwK3Tz63HGFYDVbfvnlVt9vJuvG8+esDRJr4oXwMiITKe6gT5ZRtPF1ODYMi3C9JFgTsQRr4alcdBLduix1hv2RHjVzyklP5T6fhZcAn24j1UdyHePVpEbvhPYwig9pCytfRyQjaHDfXpW++iewpPH4XKQVbsEnfaYvGicRStM9FLpVY7jNxsSDA5MaAbI44YPHLA==
  response:
    status:
      code: 500
      message: role 'PVETestAuditor' does not exist
    headers:
      Cache-Control:
      - max-age=0
      Connection:
      - close
      Date:
      - Fri, 20 Apr 2018 14:14:12 GMT
      Pragma:
      - no-cache
      Server:
      - pve-api-daemon/3.0
      Content-Length:
      - '13'
      Content-Type:
      - application/json;charset=UTF-8
      Expires:
      - Fri, 20 Apr 2018 14:14:12 GMT
    body:
      encoding: ASCII-8BIT
      string: '{"data":null}'
    http_version: 
  recorded_at: Fri, 20 Apr 2018 14:14:13 GMT
recorded_with: VCR 3.0.3
